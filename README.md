# ratioTest
Репозиторий для тестового задания компании Ratio

1а. Описание решения задачи

1.1. Создаем интерфейсную страницу (в админке) для задания параметров акции (N и X). Данный пункт не является обязательным, но желателен для удобства настроек акции.

1.2. Поскольку исходные компоненты стандвртные и кастомизировать их у нас нет необходимости, то мы используем обработку события "OnSaleBasketBeforeSaved" - оно отрабатывает каждый раз при добавлении товара в корзину.

1.3. Создаем обработчик, который при каждом добавлении товара в корзину:
   - получает текущие товары в корзине
   - подсчитывает, нужно ли производить обработку (удовлетворяет ли текущий набор товаров в корзине условиям акции)
   - если да, то ищет в наборе нужное количество самых дешевых товаров и меняет их цену на X
   
Упрощенный пример решения данной задачи см. в файле /local/php_interface/s1/include/events.php


2а. Решение задачи представлено в файле /local/php_interface/s1/include/cron/mail.php


3 . Решение задачи представлено в файле /control.php